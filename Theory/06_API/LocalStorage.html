<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebStorage API</title>
</head>

<body>
    <center>
        <h1>Web Storage Api with localStorage</h1>
        <hr>
        <p>Click to set Data</p>
        <p> Name : Happy</p>
        <p> email : Happy@gmail.com</p>
        <button onclick="setItem()">SetItem</button>

        <hr>
        <p>Click to display Data</p>
        <button onclick="getItem()">GetItem</button>
        <p id="ans"></p>
        <hr>
        <p>Click to Remove Data</p>
        <button onclick="remove()">Remove</button>
    </center>
</body>

<script>
    function setItem() {
        let obj = [{
            name: "Happy",
            email: "Happy@gmail.com"
        }]
        localStorage.setItem("data", JSON.stringify(obj))
    }

    function getItem() {
        try {
            let alldata = JSON.parse(localStorage.getItem("data"))
            let res = Object.values(alldata)
          
            let tbl = ""
            res.map((item) => {
            tbl += `

            <tr> 
               <td> ${item.name} </td> 
               <td> ${item.email} </td> 
            <tr>
            `
        })
        document.getElementById("ans").innerHTML = tbl
    } catch (err) {
        console.log(err);
        return false
    }
    }

    function remove(){
        localStorage.removeItem("data")
        document.getElementById("ans").innerHTML = ""
      
    }
</script>

</html>